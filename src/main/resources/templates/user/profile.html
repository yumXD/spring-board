<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
  layout:decorate="~{layout}"
>
  <th:block layout:fragment="script">
    <script th:inline="javascript">
      $(document).ready(function () {
        var successMessage = /*[[${successMessage}]]*/ null;
        if (successMessage) {
          alert(successMessage);
        }

        var errorMessage = /*[[${errorMessage}]]*/ null;
        if (errorMessage) {
          alert(errorMessage);
        }
      });
    </script>
  </th:block>

  <div layout:fragment="content" class="container my-3">
    <div class="row">
      <div class="col-md-6">
        <h2>내 프로필</h2>
        <p>이름: <span th:text="${user.username}"></span></p>
        <p>이메일: <span th:text="${user.email}"></span></p>
        <a class="btn btn-primary" th:href="@{/profile/edit}">프로필 수정</a>
        <form th:action="@{/user/logout}" method="post">
          <input
            type="hidden"
            name="${_csrf.parameterName}"
            th:value="${_csrf.token}"
          />
          <button type="submit" class="nav-link">로그아웃</button>
        </form>
      </div>
    </div>
  </div>
</html>
